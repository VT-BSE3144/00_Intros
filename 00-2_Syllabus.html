<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Clay Wright">

<title>Welcome to BSE3144</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="00-2_Syllabus_files/libs/clipboard/clipboard.min.js"></script>
<script src="00-2_Syllabus_files/libs/quarto-html/quarto.js"></script>
<script src="00-2_Syllabus_files/libs/quarto-html/popper.min.js"></script>
<script src="00-2_Syllabus_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="00-2_Syllabus_files/libs/quarto-html/anchor.min.js"></script>
<link href="00-2_Syllabus_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="00-2_Syllabus_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="00-2_Syllabus_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="00-2_Syllabus_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="00-2_Syllabus_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Welcome to BSE3144</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Clay Wright </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="bse-3144-engineering-analysis-for-biological-systems-using-numerical-methods---spring-2023" class="level1">
<h1>BSE 3144: Engineering Analysis for Biological Systems using Numerical Methods - Spring 2023</h1>
<section id="course-logistics" class="level3">
<h3 class="anchored" data-anchor-id="course-logistics">Course Logistics</h3>
<p><strong>Course Meetings:</strong> MW 11:15–12:05 Derring Hall 1014</p>
<p><strong>Modality: In-person, with potential for occasional Zoom meetings.</strong> All materials will be delivered in a synchronous format in the classroom and will be recorded via Zoom. Materials will be made available online as soon as possible after delivery. There will be group/team activities in every lecture/lab, so you are encouraged to attend in-person synchronous sessions if possible to gain the most from the course, but if you suspect you are sick, please stay home and join via zoom, or catch up later.</p>
<p><strong>Public Health: If you are sick please mask in class or do not attend class and isolate yourself. I will gladly make all materials/assignments available to you.</strong> Public Health is a team sport. Let’s do our collective best to keep everyone safe and healthy. Who wants to get sick and miss a week of class and potentially have to make up assignments during a busy semester?</p>
<p>Materials and in-class assignments will be available for review and completion in an asynchronous (outside-class) manner. We will do our best to extend generosity in an equitable way. We hope you will do the same. If you or your close contacts have tested positive for Covid-19 or influenza please do not hesitate to stay home and reach out to us for materials. I hope if we as a society have learned anything from this pandemic, it is that a little compassion can go a long way.</p>
<p><strong>Course Website Link: <a href="https://canvas.vt.edu/courses/184696">https://canvas.vt.edu/courses/184696</a> </strong></p>
<p><strong><a href="https://docs.google.com/spreadsheets/u/0/d/1SrTipmDhY4nloYDEanIAsKIIiOC3FSJXAuL-PaG921g/edit">Course Schedule Link</a> </strong></p>
<p><strong>Online Lecture Meeting Link: </strong></p>
<p><strong><a href="https://virginiatech.zoom.us/j/86324275588?pwd=V1l2QUIvSzZ3UVRPSzRxMk9PYlhJdz09">https://virginiatech.zoom.us/j/86324275588?pwd=V1l2QUIvSzZ3UVRPSzRxMk9PYlhJdz09</a> </strong></p>
<p>_Recording: _Lectures and presented material in-class will be recorded for anyone who cannot attend synchronous sessions. If you do not want to be recorded, please turn off your video and mute your audio.</p>
<p>_Breakout groups: _Breakout groups will not be recorded. Upon entering a breakout group please turn on your video and audio if possible and set your view “Gallery View” to facilitate group discussions.</p>

<table>
<tbody><tr>
<td>
<strong>Instructor:</strong>
</td>
<td>
Dr.&nbsp;Clay Wright
<p>
(he/him/they/them)
</p></td>
<td>
Zahra Nourali (TA)
<p>
(she/her)
</p></td>
</tr>
<tr>
<td>
Office:<br>

</td>
<td>
HABB1 301E
</td>
<td>
Office hours in Seitz 305
</td>
</tr>
<tr>
<td>
Phone:<br>

</td>
<td>
<ol start="540" type="1">
<li>231-4546
</li></ol></td>
<td>
<ol start="540" type="1">
<li>267-1470
</li></ol></td>
</tr>
<tr>
<td>
E-mail:<br>

</td>
<td>
wrightrc@vt.edu
</td>
<td>
znourali@vt.edu
</td>
</tr>
<tr>
<td>
Advising/Tutoring Hours:
</td>
<td>
Th 1:30-2:30PM (might change based on poll)
</td>
<td>
TBD
</td>
</tr>
<tr>
<td>
Office/Advising/Tutoring Hours Link:
</td>
<td>
<a href="https://virginiatech.zoom.us/j/85224869663?pwd=Sy9SRHZzWE5ONjBUL3U0WXR6SDFKUT09">https://virginiatech.zoom.us/j/85224869663?pwd=Sy9SRHZzWE5ONjBUL3U0WXR6SDFKUT09</a>
</td>
<td>
</td>
</tr>

</tbody></table>


<p><em>Email to schedule appointments outside these times. Please suggest times when you are available and reference your conflict with regular office hours in the request.</em></p>
<p><strong>Email/Communication Protocol: </strong>Before emailing,** please consider whether your question would be more appropriate as a post on Canvas **(even a private post to instructors). We will strive to respond to all inquiries within 24 hours and would request you strive for the same. A courteous and professional tone (on your part and ours) greatly increases the likelihood of a positive result.</p>
<p><strong>Course Description: </strong></p>
<p>This course focuses on the process of solving engineering problems related to biological systems using numerical analysis including root finding, numerical integration, differentiation, interpolation and numerical solution of ordinary differential equations, error analysis and programming with engineering software.</p>
<p>The course will cover topics of numerical analysis including: root finding, numerical integration, differentiation, interpolation and numerical solution to ordinary differential equations to biological systems engineering related problems.</p>
<p>R is the programming language we will use in this course. We will spend the first portion of this course devoted to learning the basics of structured and modular programming. Although we focus on R, the described techniques are not only applicable with other computer languages. Furthermore, the techniques provide a logical approach to addressing complex problems, breaking them down into manageable (and solvable) pieces.</p>
<p>The numerical computation techniques included in this course are utilized by many engineers. For biological systems engineers, the applications of the techniques include consideration of characteristics of biological systems, such as natural variability, growth/decay cycles, nonhomogeneity, anisotropy, and process uncertainty.</p>
<p><strong>Course Prerequisites: </strong></p>
<p>BSE 2004 Introduction to Biological Systems introduces students to a variety of biological systems and to engineering problems related to those systems. MATH 2214 Introduction to Differential Equations familiarizes students with ordinary differential equations, first-order equations, second- and higher-order linear equations, and systems of first-order linear equations.</p>
<p><strong>Required Text: </strong>All course materials will be available via Canvas, Google Drive, Kritik, and Posit (R) Cloud.</p>
<p><strong>Recommended (and free):</strong> R for Data Science, <a href="https://r4ds.had.co.nz">https://r4ds.had.co.nz</a></p>
<p><strong>Required Software: </strong>Microsoft Office package (Word, Excel, Powerpoint) or Google/OpenOffice equivalents, Firefox or Chrome browser, Posit.cloud account, and Kritik.io account.</p>
<p><strong>Learning Objectives: </strong></p>
<p>Upon successful completion of this course, the student will be able to:</p>
<ul>
<li>Apply the following numerical techniques to solve problems in biological systems engineering:
<ul>
<li>root finding</li>
<li>solving systems of linear equations</li>
<li>interpolation</li>
<li>differentiation and integration</li>
<li>solving ordinary differential equations</li>
</ul></li>
<li>Define and quantify sources of error in numerical techniques</li>
<li>Write programs, using engineering software, that involve loops, logical block constructs, function, plotting, and input/output</li>
</ul>
<p><strong>Grading and Evaluation: </strong></p>

<table>
<tbody><tr>
<td>
<strong>Assignments </strong>
</td>
<td>
<strong>Weight</strong>
</td>
</tr>
<tr>
<td>
Concept Checks
</td>
<td>
15%
</td>
</tr>
<tr>
<td>
Problem Sets
</td>
<td>
55%
</td>
</tr>
<tr>
<td>
Project-based Assessments
</td>
<td>
30%
</td>
</tr>

</tbody></table>
<p><strong><em>Letter grades will be assigned based on the standard VT +/- scale without any additional rounding. The Canvas Gradebook page will reflect your grade. </em></strong></p>
</section>
<section id="assignments" class="level3">
<h3 class="anchored" data-anchor-id="assignments">Assignments</h3>
<p><strong><em>Submitting Assignments</em></strong></p>
<p>All assignments can only be submitted via Canvas (https://canvas.vt.edu). Assignments will not be accepted via email. All submissions must be a single scanned PDF file of the solution (not scanned pages sent as multiple .jpeg files, for example) and files from any analytical tools you used (Excel, Matlab, R).</p>
<p><strong><em>Late and Excused Assignments</em></strong></p>
<p>Late assignments will be docked 0.5% after grading per hour late. Late assignments can be submitted any time prior to the assignment being graded and returned to other students. Excuses that include, for instance, “computer or software problems related to Canvas or internet service” will not be accepted. If you anticipate submission problems, please allow yourself enough time to submit.</p>
<p>Missed assignments will be excused with written permission from the Academic Affairs Office of the College of Engineering. If an assignment is missed and properly excused, the student will have a week upon return to complete the assignment for full credit.</p>
<p><strong><em>Concept Checks</em></strong></p>
<p>Concept checks are meant to incentivize your reviewing of pre-class materials. These are primarily in the form of canvas quizzes, with unlimited tries, on readings and pre-class materials</p>
<p><strong><em>Problem Sets </em></strong></p>
<p>Problem Sets in this class are both in-class and at-home work. Problem Sets help build your understanding of engineering concepts and develop your problem solving, analysis, and design skills through practice. Problem Sets reflect the course lectures, in that you will develop code based on what we cover in class that week to solve numerical problems. Problem Sets are generally a few problems and are assigned on a weekly basis. The Problem Sets are generally due at midnight (12:00am) on Thursday. The total point value of a Problem Set is commensurate with the length and difficulty of the problems per the instructor’s discretion. <strong>Your lowest percentage Problem Set of the semester will not be included in your grade. </strong>Problem Sets are graded based on correctness with ample partial credit to give you feedback on your problem solving approach. You are encouraged to work in teams and consult with classmates regarding problems. However, each student must submit his or her own Problem Sets. Any Problem Set submitted with two or more names will not be graded. Even though teamwork is encouraged, all submitted Problem Sets must be your own work. In other words, <strong>no two Problem Sets should be identical</strong>.</p>
<p><strong>To ensure maximum credit and also maximum likelihood of arriving at the correct answer, make sure that your solution </strong></p>
<ol type="1">
<li><strong>is written clearly and in a tidy format, </strong></li>
<li><strong>begins with a summary of all the information in the question, </strong></li>
<li><strong>contains comments about your solution strategy and the goal of each section of calculations, and </strong></li>
<li><strong>has final answers, with proper units, boxed or otherwise clearly highlighted. </strong></li>
</ol>
<p><strong><em>Project-based Assessments</em></strong></p>
<p>This semester there will be 2 summative project-based assessments. These are meant to reinforce what you learn while also assessing your abilities to implement what you learn in a new context of your choosing. The first summative assessment will occur around Spring Break. The second assessment will be due at the final exam time (but there is no exam). Both of these assessments will be assigned on the first day of class (although I might make some small changes to the rubric, until 2 weeks before it is due). We will have about 1 week of class time to work on each of these assessments, but you are also expected to spend some hours outside class working on them. I am happy to answer any questions about your projects and hope that this type of assessment reduces anxiety and distraction, while more accurately representing on-the-job work. I cannot and do not adjust the timing of these assignments for SSD exam accommodations as you are given many weeks to complete them, and there will be several assignments to help you develop your plan for completing these assignments. While you are encouraged to converse with your neighbors about your analysis to help solidify and practice communicating your analysis, and you can possibly even work on the same dataset, <strong>these are individual assignments. Everyone must submit a unique assignment. </strong></p>
</section>
<section id="community-guidelines-and-expectations" class="level3">
<h3 class="anchored" data-anchor-id="community-guidelines-and-expectations">Community Guidelines and Expectations</h3>
<ul>
<li><strong>Share responsibility for including all voices in the conversation.</strong> If you tend to have a lot to say, make sure you leave sufficient space and invite and validate contributions from others. If you tend to stay quiet in group discussions, challenge yourself to contribute so others can learn from you. Team assignments should be products of the entire team</li>
<li><strong>Listen respectfully.</strong> Don’t interrupt, turn to technology, or engage in private conversations while others are speaking. Use attentive, courteous body language. Comments that you make (whether asking for clarification, sharing critiques, or expanding on a point) should reflect that you have paid attention to the previous speakers’ comments.</li>
<li><strong>Be open to changing your perspectives based on what you learn from others.</strong> Try to explore new ideas and possibilities. Think critically about the factors that have shaped your perspectives. Seriously consider points-of-view that differ from your current thinking.</li>
<li><strong>Understand that we are bound to make mistakes</strong> in this space, as anyone does when approaching complex tasks or learning new skills. Strive to see your mistakes and others’ as valuable elements of the learning process.</li>
<li><strong>Understand that your words have effects on others. Speak with care. </strong>If you learn that something you’ve said was experienced as disrespectful or marginalizing, listen carefully and try to understand that perspective. Learn how you can do better in the future.</li>
<li><strong>Take pair work, small group work, and class discussions seriously. <span style="text-decoration:underline;">Remember that your peers’ learning is partly dependent upon your engagement.</span></strong></li>
<li><strong>Be careful about assumptions and generalizations you make based only on your own experience. </strong>Understand that others will come to these discussions with different experiences from yours. Be open to hearing and learning from other perspectives.</li>
<li><strong>Make an effort to get to know other students.</strong> Introduce yourself to students sitting near you. Refer to classmates by name and make eye contact with other students.</li>
<li>Understand that there are different approaches to solving problems. <strong>If you are uncertain about someone else’s approach, ask a question to explore areas of uncertainty.</strong> Listen respectfully to how and why the approach could work. Disagreements often propel science and engineering as working to resolve disagreements through calm and clear communication helps expand our collective understanding.</li>
</ul>
<p><strong>If someone violates these guidelines, please let them know that “I believe you are violating the community guidelines” so that they can learn from their mistakes, and also alert an instructor of this incident if appropriate.</strong></p>
<p><strong><em>Virginia Tech’s Principles of Community:</em> </strong></p>
<p>Virginia Tech is a public land-grant university, committed to teaching and learning, research, and outreach to the Commonwealth of Virginia, the nation, and the world community. Learning from the experiences that shape Virginia Tech as an institution, we acknowledge those aspects of our legacy that reflected bias and exclusion. Therefore, we adopt and practice the following principles as fundamental to our on-going efforts to increase access and inclusion and to create a community that nurtures learning and growth for all of its members:</p>
<ul>
<li>We affirm the inherent dignity and value of every person and strive to maintain a climate for work and learning based on mutual respect and understanding.</li>
<li>We affirm the right of each person to express thoughts and opinions freely. We encourage open expression within a climate of civility, sensitivity, and mutual respect.</li>
<li>We affirm the value of human diversity because it enriches our lives and the University. We acknowledge and respect our differences while affirming our common humanity.</li>
<li>We reject all forms of prejudice and discrimination, including those based on age, color, disability, gender, national origin, political affiliation, race, religion, sexual orientation, and veteran status. We take individual and collective responsibility for helping to eliminate bias and discrimination and for increasing our own understanding of these issues through education, training, and interaction with others.</li>
<li>We pledge our collective commitment to these principles in the spirit of the Virginia Tech motto of Ut Prosim (That I May Serve).</li>
</ul>
</section>
<section id="mental-health-and-well-being" class="level3">
<h3 class="anchored" data-anchor-id="mental-health-and-well-being">Mental Health and Well-being</h3>
<p>Supporting the mental health and well-being of students in my class is of high priority to me and Virginia Tech. If you are feeling overwhelmed academically, having trouble functioning, or are worried about a friend, please reach out to any of the following offices:</p>
<ul>
<li>Cook Counseling:
<ul>
<li>540-231-6557 to schedule an appointment and/or 24/7 crisis support</li>
<li>ucc.vt.edu for more information</li>
</ul></li>
<li>Dean of Students Office:
<ul>
<li>540 231-3787 for general advice</li>
<li>540-231-6411 for after-hours crisis</li>
<li>dos.vt.edu for more information</li>
</ul></li>
<li>Hokie Wellness:
<ul>
<li>hokiewellness.vt.edu for more information about health and wellness workshops and consultations</li>
</ul></li>
<li>Services for Students with Disabilities (SSD)
<ul>
<li>540-231-3788 or ssd.vt.edu for more information about accommodations and other disability-related supports</li>
</ul></li>
</ul>
<p>For a full listing of campus resources check out well-being.vt.edu .</p>
<p>Please also feel free to speak with us. We will make an effort to work with you and care about you.</p>
</section>
<section id="diversity-inclusivity-and-accessibility" class="level3">
<h3 class="anchored" data-anchor-id="diversity-inclusivity-and-accessibility">Diversity, Inclusivity, and Accessibility</h3>
<p>We are committed to fostering an inclusive learning environment where diversity and individual differences are understood, respected, appreciated and recognized as a source of strength according to the Virginia Tech Principles of Community (<a href="http://www.vt.edu/diversity/principlesofcommunity.html">http://www.vt.edu/diversity/principlesofcommunity.html</a>).</p>
<p>We strive to best provide equal access and a culture of inclusion without altering the essential elements of coursework. If you anticipate or experience academic barriers that may be due to disability, including but not limited to ADHD, chronic or temporary medical conditions, deaf or hard of hearing, learning disability, mental health, or vision impairment, please contact the Services for Students with Disabilities (SSD) office (150 Henderson Hall, 540-231-3788 (V), 540-231-1740 (TTY), ssd@vt.edu, or visit www.ssd.vt.edu). Reasonable accommodations are available for students who have a disability. Students with disabilities are responsible for self-identification. To be eligible for services, documentation of the disability from a qualified professional must be presented to SSD upon request. Academic adjustments may include, but are not limited to: priority registration, auxiliary aids, program and course adjustment, exam modifications, oral or sign language interpreters, cassette taping of text/materials, notetakers/readers, or assistive technology.</p>
<p><strong>If you have an SSD accommodation letter or anticipate having one, please let an instructor know as soon as possible.</strong> Email an instructor or meet privately during office hours or by appointment, ideally in the first week of the semester to deliver your letter and discuss your accommodations. You must give us reasonable notice to implement your accommodations, which is generally 5 business days and 10 business days for exams.</p>
<p>We will gladly honor your request to address you by an alternate name or gender pronoun than listed on the class roster. Please advise us in person or by email of this preference early in the term so that we can make appropriate changes to records and address you respectfully during class.</p>
<p><strong>Your success in this course is of great importance to us. If you have any additional concerns about your performance in this class, please make an appointment to discuss this in person.</strong></p>
</section>
<section id="honor-code" class="level3">
<h3 class="anchored" data-anchor-id="honor-code">Honor Code</h3>
<p>The Honor Code will be strictly enforced in this course. All assignments submitted shall be considered graded work, unless otherwise noted. All aspects of your coursework are covered by the Honor System. A student who has doubts about how the Honor Code applies to any assignment is responsible for obtaining specific guidance from the course instructor before submitting the assignment for evaluation. Ignorance of the rules does not exclude any member of the University community from the requirements and expectations of the Honor Code. The following is the Honor Code written verbatim from the VT Honor System Constitution:</p>
<p><em>“As a Hokie, I will conduct myself with honor and integrity at all times. I will not lie, cheat, or steal, nor will I accept the actions of those who do.” </em></p>
<p>Commission of any of the following acts shall constitute academic misconduct. This listing is not, however, exclusive of other acts that may reasonably be said to constitute academic misconduct. Clarification is provided for each definition with some examples of prohibited behaviors in the Undergraduate Honor Code Manual located at: <a href="https://www.honorsystem.vt.edu/">https://www.honorsystem.vt.edu/</a></p>
<ol type="1">
<li><p>CHEATING Cheating includes the intentional use of unauthorized materials, information, notes, study aids or other devices or materials in any academic exercise, or attempts thereof.</p></li>
<li><p>PLAGIARISM Plagiarism includes the copying of the language, structure, programming, computer code, ideas, and/or thoughts of another and passing off the same as one’s own original work, or attempts thereof.</p></li>
<li><p>FALSIFICATION Falsification includes the statement of any untruth, either verbally or in writing, with respect to any element of one’s academic work, or attempts thereof.</p></li>
<li><p>FABRICATION Fabrication includes making up data and results, and recording or reporting them, or submitting fabricated documents, or attempts thereof.</p></li>
<li><p>MULTIPLE SUBMISSION Multiple submission involves the submission for credit—without authorization of the instructor receiving the work—of substantial portions of any work (including oral reports) previously submitted for credit at any academic institution, or attempts thereof.</p></li>
<li><p>COMPLICITY Complicity includes intentionally helping another to engage in an act of academic misconduct, or attempts thereof.</p></li>
</ol>
<ol start="7" type="A">
<li>VIOLATION OF UNIVERSITY, COLLEGE, DEPARTMENTAL, PROGRAM, COURSE, OR FACULTY RULES The violation of any University, College, Departmental, Program, Course, or Faculty Rules relating to academic matters that may lead to an unfair academic advantage by the student violating the rule(s).</li>
</ol>
<p><strong><em>Key points for this course are:</em></strong></p>
<ul>
<li>While group work on assignments is encouraged to facilitate cooperative learning, each student is expected to complete each assignment him/herself and to turn in his/her own individual work. <em><span style="text-decoration:underline;">Copying of another student’s work (currently or previously enrolled students) is not allowed.</span></em></li>
<li><span style="text-decoration:underline;">Copying (either direct cut and paste or slight rewording) of written material, such as from the internet or another student’s work, is strictly forbidden.</span></li>
<li>Review TurnItIn reports before submitting your work. <span style="text-decoration:underline;">If written work is flagged by TurnItIn as being greater than 30% similar to publicly available writing within the main body of the text, your work will be returned ungraded.</span></li>
<li>All exams should be solely and completely the work of the individual student.</li>
</ul>
<p><strong><em><span style="text-decoration:underline;">Violations of the Honor Code will be turned over to the Honor Court.</span></em></strong> At a minimum, a grade of “double-F” for the assignment will be requested. Additional sanctions, including community service, “academic integrity sanctions” listings on official transcripts, or dismissal may be recommended given the seriousness of the infraction.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>